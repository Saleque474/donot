1
00:00:00,680 --> 00:00:07,180
OK so we saw before how we can connect our Android phone physically to a laptop and then have it to

2
00:00:07,230 --> 00:00:13,710
pretend to be a keyboard and then program the Android device to send certain commands to this laptop

3
00:00:13,710 --> 00:00:20,790
so we saw how we can add a username and password with a password and add the user name to the administrators

4
00:00:21,120 --> 00:00:26,750
and then remotely connect to the target laptop from another computer.

5
00:00:27,590 --> 00:00:30,710
Or from our Android device.

6
00:00:30,720 --> 00:00:37,580
Now the problem is the privileges on the logged in user does not allow you to add new user.

7
00:00:37,580 --> 00:00:42,890
Another problem is a Remote Desktop might not might not be enabled on the target computer.

8
00:00:43,100 --> 00:00:48,260
So if you actually want to gain full access to the target computer you're better off using the power

9
00:00:48,260 --> 00:00:49,700
split option.

10
00:00:49,700 --> 00:00:56,510
This option allow you to get a reverse shield so you get full access to the target's computer and you

11
00:00:56,510 --> 00:01:02,900
will then be able to escalate your privileges change your privileges maybe to administrator you can

12
00:01:02,900 --> 00:01:05,350
add usernames and passwords from this show.

13
00:01:05,390 --> 00:01:11,840
You can change the shell to the NCCL and then you'll see everything like most desktop you can do much

14
00:01:11,840 --> 00:01:17,420
more things you can start and I think you basically get a reverse interpreter handler which is part

15
00:01:17,420 --> 00:01:20,100
of the meta both you will see what the other means now.

16
00:01:20,420 --> 00:01:26,210
Basically it gives you a very powerful shell that gives you full access to the salvias computer.

17
00:01:26,640 --> 00:01:32,440
So the main attack method is the same so we will be using our Android device to fool the target computer

18
00:01:32,530 --> 00:01:33,480
as a keyboard.

19
00:01:33,500 --> 00:01:37,680
So we're going to have to connect our Android device physically to the tablet computer.

20
00:01:37,730 --> 00:01:41,150
Once we do this we will get a reverse show on another machine.

21
00:01:42,430 --> 00:01:46,510
Now where we get the Universe will depend on what we want to do.

22
00:01:46,510 --> 00:01:51,460
We can actually do it get the reverse show on the Android or we can get the reverse show on another

23
00:01:51,460 --> 00:01:52,220
computer.

24
00:01:52,220 --> 00:01:54,450
Certainly won't see anywhere else that we want.

25
00:01:56,770 --> 00:02:01,130
All you need to use is a tool called me that's Floyd.

26
00:02:01,300 --> 00:02:08,620
So I'm using calisthenics right here as a virtual machine and I have my terminal open and I'm going

27
00:02:08,620 --> 00:02:15,770
to show you how we are going to set up our handler so we can make our Android device to the target machine.

28
00:02:15,820 --> 00:02:21,740
It's going to do a reverse connection instead of us connecting to the with computer from Cali.

29
00:02:21,760 --> 00:02:26,830
We're going to program our Android device to send commands to the Windows machine to make it connect

30
00:02:26,890 --> 00:02:28,320
to the kalee.

31
00:02:28,330 --> 00:02:32,980
We're doing a reverse connection this way so that we can bypass firewalls.

32
00:02:32,980 --> 00:02:38,380
So this is my Callimachi and this is where I'm going to get my reverse connection so you can run these

33
00:02:38,380 --> 00:02:43,150
commands on any computer or device that has metal plate installed on it.

34
00:02:43,150 --> 00:02:46,380
Again you can do this on your Android device in the terminal.

35
00:02:46,510 --> 00:02:50,110
You can do these commands and you get the shield back into your Android.

36
00:02:50,110 --> 00:02:54,630
But I'm doing it here on a different computer because in this scenario when you actually want to connect

37
00:02:54,650 --> 00:02:59,090
your computer your device to another computer you will look suspicious.

38
00:02:59,080 --> 00:03:03,000
Then using your device and you'll have a terminal and stuff on your device.

39
00:03:03,040 --> 00:03:09,190
So the best stealth way to do it is you connect your Android device to the computer and then the show

40
00:03:09,190 --> 00:03:11,410
goes back to another laptop somewhere else.

41
00:03:11,410 --> 00:03:12,990
So this is what we're actually doing.

42
00:03:14,060 --> 00:03:16,240
This is a virtual machine right here.

43
00:03:16,470 --> 00:03:22,720
The first command I'm going to run is to run dimittis bloweth console and it's MSF console.

44
00:03:22,770 --> 00:03:26,930
This will take some time to load up the whole the whole plate framework.

45
00:03:26,940 --> 00:03:31,840
Now with us bloat is a huge framework that can be used into many many different things.

46
00:03:31,860 --> 00:03:39,160
So today we're only looking on how to set up a reverse handler and get a reverse connection on its.

47
00:03:39,220 --> 00:03:48,430
So in order to do that we're going to do use exploit multiday there.

48
00:03:48,550 --> 00:03:52,600
So this is the auxilary that we're going to use.

49
00:03:52,870 --> 00:03:55,060
It's called exploit multi handler.

50
00:03:55,090 --> 00:04:00,850
Then I'm going to type in Show Options now you can run show options at any stage to see the options

51
00:04:00,850 --> 00:04:02,730
that you have or you can set.

52
00:04:02,980 --> 00:04:05,950
So you can see that the module options are these.

53
00:04:06,100 --> 00:04:11,110
And the payload is set this is correctly so you might not actually have the payload set up correctly.

54
00:04:11,110 --> 00:04:17,460
The payload is the type of code that will ponder verst connection.

55
00:04:17,470 --> 00:04:23,480
So in my case we're going to either use a reverse hasty CPS or a very safe city.

56
00:04:23,650 --> 00:04:27,610
So I'm going to send the payload I'm actually just going to change it to show you how to change the

57
00:04:27,610 --> 00:04:33,160
payload because when you run it for the first time you're going to have a blank for payloads.

58
00:04:33,170 --> 00:04:35,300
So I'm just going to show you how to change the payload.

59
00:04:35,330 --> 00:04:40,490
Now you can do this changing the payload is the same no matter what you are doing even if you're on

60
00:04:40,490 --> 00:04:41,820
a different tack.

61
00:04:42,080 --> 00:04:56,530
So you just go said haloed those interpretor reverse HTP and we can see that the payload will change.

62
00:04:56,730 --> 00:05:01,380
Now if you want to change the airport or the host it's the same for me to change them.

63
00:05:01,380 --> 00:05:04,590
So if you change the host is the listening host.

64
00:05:04,710 --> 00:05:07,160
So it's the IP of this current machine.

65
00:05:07,890 --> 00:05:11,630
I'm just going to see what's the IP of this machine using ifconfig.

66
00:05:11,670 --> 00:05:15,170
So that's just a Linux command to see the IP.

67
00:05:15,240 --> 00:05:19,670
So my IP is 1 9 2 1 6 8 0 14.

68
00:05:19,870 --> 00:05:21,600
So I'm going to do it again.

69
00:05:21,610 --> 00:05:23,180
So it's the same format.

70
00:05:23,260 --> 00:05:27,480
You type in set and then you type in the name of the variable that you want to change.

71
00:05:27,490 --> 00:05:38,120
So the variable for me now is I'll host and I want to set it to 1 9 2 1 6 8 0 4 2 Okay.

72
00:05:38,180 --> 00:05:41,790
So I'm going to do show options again to make sure that all the options are correct.

73
00:05:42,140 --> 00:05:43,810
So we're using the.

74
00:05:43,820 --> 00:05:47,160
They have their windows with their fraternally very safe.

75
00:05:47,930 --> 00:05:54,620
This is my IP and this is the fourth and the target is Windows or wild card so everything's perfect.

76
00:05:54,650 --> 00:06:00,760
Now once you're ready we're going to type in exploit as you can see this doesn't really do anything.

77
00:06:00,760 --> 00:06:03,370
It just sits and waits for connections.

78
00:06:03,370 --> 00:06:07,210
Come on 4 4 4 4 4.

79
00:06:07,380 --> 00:06:09,410
So it's not going to do anything.

80
00:06:09,410 --> 00:06:12,540
It's not going to try to hike or run any exploits.

81
00:06:12,540 --> 00:06:19,200
It's basically just waiting for any device to connect to it on 4 4 4 4 4.

82
00:06:19,340 --> 00:06:24,860
Again you can run these commands on any device that has meters Floyd including your net Hunter device

83
00:06:24,890 --> 00:06:26,580
if you want to do it from it.

84
00:06:26,600 --> 00:06:27,580
Now we're all set.

85
00:06:27,590 --> 00:06:28,670
Everything is ready.

86
00:06:28,730 --> 00:06:30,880
So we're going to go on our hunter machine

87
00:06:35,010 --> 00:06:37,790
some minor Hunter home and I'm going out.

88
00:06:37,800 --> 00:06:44,570
First thing I'm going to navigate to my ex-service control and I'm going to turn on my apache server

89
00:06:44,600 --> 00:06:45,850
by tapping on it.

90
00:06:46,250 --> 00:06:51,350
So Apache is on now then I'm going to go to my page.

91
00:06:51,400 --> 00:06:57,150
The keyboard attack and I'm going to make sure that all these options are correct.

92
00:06:57,170 --> 00:07:04,970
So the first thing is our IP address and that is correct 1 9 3 1 6 8 0 14 that's the IP where the connection

93
00:07:04,970 --> 00:07:05,750
will be sent to.

94
00:07:05,750 --> 00:07:12,860
So that's the IP of the Kalli machine that we run with smote on and it's the same you put in the same

95
00:07:12,860 --> 00:07:17,170
IP as the one that we put as the host here.

96
00:07:17,180 --> 00:07:25,150
So as you can see that my host is one of six age 14 and it's the same as this one second option is my

97
00:07:25,150 --> 00:07:25,540
forte.

98
00:07:25,540 --> 00:07:28,480
Again make sure it's the same so it's 4 4 4 4.

99
00:07:28,510 --> 00:07:30,830
The third option the payload.

100
00:07:30,830 --> 00:07:37,210
Again make sure it's the same windows interpreter Reverse-Flash CTP and then the last one is the IP.

101
00:07:37,210 --> 00:07:43,210
Now this should be the IP of your Android device and it's the same as what we saw in the home menu.

102
00:07:43,210 --> 00:07:49,160
So it's 1 9 2 1 6 8 0 8 and that's why we turned on our Apache server.

103
00:07:49,170 --> 00:07:53,690
So Apache is a web server and that's where the payload is going to be stored.

104
00:07:54,440 --> 00:07:59,230
So once we execute the attack the payload will be downloaded from the Android device.

105
00:07:59,280 --> 00:08:05,450
It will be executed on the windows the target machine and it will send that connection to the machine

106
00:08:05,450 --> 00:08:06,370
that runs with us.

107
00:08:06,370 --> 00:08:12,280
Floyds which is in this case the Callimachi and the virtual machine so I'm going to hit on these three

108
00:08:12,280 --> 00:08:18,450
little dots and I'm going to hit on execute attack and I'm going to navigate quickly to my windows.

109
00:08:18,850 --> 00:08:23,950
And as you can see now these are these commands that are actually being typed automatically the same

110
00:08:23,950 --> 00:08:30,180
way that what happened when we ran our CMBS or page I.D. keyboard the tag when we typed in that user

111
00:08:30,180 --> 00:08:31,750
or user or whatever.

112
00:08:31,750 --> 00:08:37,390
Now this will actually download the payload from the Android device execute the payload in this machine

113
00:08:37,720 --> 00:08:40,420
and then spawn a show on this machine.

114
00:08:40,570 --> 00:08:45,760
And as we can see we have access to the target's Windows machine so we can see that we have a session

115
00:08:45,760 --> 00:08:46,850
one open.

116
00:08:47,080 --> 00:08:53,750
It's come into this IP which is our IP and it's coming from 1 9 2 1 6 8 0 2 which is my Windows device

117
00:08:54,860 --> 00:09:02,220
and now I have basically full access and full control over the target machine using my interpreter.

118
00:09:02,220 --> 00:09:07,420
Now I will give you a quick showcase of what you can do once you're in this situation.

